<html>
<head>
  <meta charset="UTF-8">
  <title>FartPost</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: brown;
      color: white;
    }

header {
  background-color: brown;
  padding: 10px;
}

h1 {
  margin: 0;
  text-align: center;
  color: white;
}

post-button {
  float: right;
  background-color: white;
  color: brown;
}

content {
  margin: 20px;
}

post-textbox {
  width: 100%;
  height: 100px;
  resize: none;
  background-color: white;
  color: brown;
}

post-textbox:read-only {
  background-color: #f2f2f2;
  border: none;
}

login-form {
  padding: 10px;
  text-align: center;
  background-color: #f2f2f2;
  margin-bottom: 20px;
}

login-input {
  margin-right: 10px;
  background-color: white;
  color: brown;
}

button {
  background-color: white;
  color: brown;
}
</style>
</head>

<body>
  <header>
    <h1>FartPost</h1>
    <div id="login-form">
      <input type="text" id="login-input" placeholder="Username" style="background-color: white; color: brown;">
      <button onclick="login()" style="background-color: white; color: brown;">Login/Signup</button>
    </div>
    <button id="post-button" onclick="openPostBox()" disabled>Post</button>
  </header>
  <div id="content"></div>

<script>
    var loggedInUser = "";
    var posts = JSON.parse(localStorage.getItem("posts")) || [];

// Load existing posts from Local Storage
for (var i = 0; i < posts.length; i++) {
  createPostElement(posts[i].user, posts[i].content);
}

function login() {
  var username = document.getElementById("login-input").value.trim();
  if (username !== "") {
    loggedInUser = username;
    document.getElementById("login-form").style.display = "none";
    document.getElementById("post-button").disabled = false;
  }
}

function openPostBox() {
  var textbox = document.createElement("textarea");
  textbox.id = "post-textbox";
  textbox.onkeypress = function(e) {
    if (e.keyCode === 13) { // Enter key code
      e.preventDefault();
      savePost();
    }
  };
  document.getElementById("content").appendChild(textbox);
  textbox.focus();
}

function savePost() {
  var textbox = document.getElementById("post-textbox");
  var content = textbox.value.trim();
  if (content !== "") {
    textbox.parentNode.removeChild(textbox);
    createPostElement(loggedInUser, content);

// Save post to Local Storage
posts.push({ user: loggedInUser, content: content });
localStorage.setItem("posts", JSON.stringify(posts));
}
}

function createPostElement(user, content) {
  var post = document.createElement("div");
  var userElement = document.createElement("p");
  userElement.innerText = user;
  post.appendChild(userElement);
  var postContent = document.createElement("p");
  postContent.innerText = content;
  post.appendChild(postContent);
  document.getElementById("content").appendChild(post);
}
</script>
</body>
</html>